## Шаблон
Акторы - это ECS ( entity-component-system ) шаблон со спецификой работы на движке Unity. Шаблон ECS решает множество задач в написании игр : [локальность данных](https://live13.livejournal.com/474198.html), низкая связанность кода, модульность, потенциально высокая производительность за счет сравнительно простой настройки распараллеливания вычислений. 

Среди разработчиков юнити широко распространена [OOP](https://en.wikipedia.org/wiki/Object-oriented_programming) ( Object Oriented Design ) парадигма однако для оптимальной работы с ECS нужно настраивать образ мышления на [DOD](https://en.wikipedia.org/wiki/Data-oriented_design) ( Data Oriented Design ) парадигму. 

Разница подходов выражена в том как мы воспринимаем объекты и работаем с ними: 
### OOP
```csharp
class Spaceship {
 
  Transform body;
  Vector3 position;
  float  speed;

  void Move();
}
```
Для **OOP** характерно думать категорией отдельно взятого объекта. Весь мир состоит из отдельных объектов которые общаются друг с другом посредством своих методов и интерфейсов. Когда мы пишем метод Move в OOP мы подсознательно хотим двигать конкретный кораблик в пространстве. 

Классы объектов могут наследоваться друг от друга расширяя базовый функционал и скрывая базовых функционал и переменные.
Так появляется класс Дредноут наследуемый от Spaceship и выполняющий все те же функции + добавляется стрельба из пушки.

```csharp
class Drednought: Spaceship {

  Cannon weapon;   
  void Shoot();

}
```


### DOD
```csharp
class Spaceships {
 
  Transform[] body;
  Vector3[] position;
  float[] speed

  void Move();
}
```
Для **DOD** характерно думать о том как изменяются данные. С точки зрения DOD при описании движения нет разницы двигается ли кораблик или астероид до тех пор пока они живут по одним законам. Так, если в движении участвуют компоненты скорости и тела сам объект уже не важен. Программисты составляют композиции компонентов обрабатывающихся по единым правилам. 

```csharp
class Entities{
 
  Transform[] body;
  Vector3[] position;
  float[] speed
  Cannon[] weapon;

  void Move();
  void Shoot();
}
```

Одна из задач фреймворка предоставить удобную среду для работы с объектами в DOD парадигме.
 
## Component
Компонент - это кирпич игры описывающий некий набор переменных которыми будет обладать сущность.
Во фреймворке компоненты часто пишутся с атрибутом [Serializable] для того чтобы редактировать поля в инспекторе Unity.

Правила компонентов:

* По возможности нужно стараться делать компоненты небольшими. 
* Компонент должен описывать одну задачу в игре. В крайнем случае несколько тесносвязанных задач.
* Компоненты могут наследоваться от других компонентов _если нужно_.
* Компоненты **не должны** содержать никакой игровой логики. 
* Компоненты **могут** содержать методы инициализации, настроек, сброса значений или другие утилитарные методы связанные с компонентом.

_При сомнениях о том расширять функционал компонента или создавать новый как правило лучше создавать новый. Составление композиций компонентов одна из главных задач этого подхода и оптимальные сборки приходят с опытом._

```csharp
[Serializable]
public class ComponentMotion : IComponent{
public float speed;
public Vector3 direction;
}
```
```csharp
[Serializable]
public class ComponentDamageble : IComponent{
public int hp;
}
```
```csharp
[Serializable]
public class ComponentObject : IComponent{
public Transform body;
public GameObject go;
}
```